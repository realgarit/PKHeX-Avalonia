<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:PKHeX.Avalonia.ViewModels"
             x:Class="PKHeX.Avalonia.Views.Misc2Editor"
             x:DataType="vm:Misc2EditorViewModel">

    <Design.DataContext>
        <vm:Misc2EditorViewModel />
    </Design.DataContext>

    <Border Padding="16" Classes="view-container">
        <Grid RowDefinitions="*,Auto">
            <StackPanel Spacing="16">
                <TextBlock Text="Misc Editor (Gen 2)" Classes="view-title" />

                <!-- GS Ball Section (Crystal only) -->
                <Border Classes="section-card"
                        Padding="16"
                        IsVisible="{Binding IsCrystal}">
                    <StackPanel Spacing="12">
                        <TextBlock Text="GS Ball Event (Virtual Console)" FontWeight="SemiBold" FontSize="14"/>
                        <TextBlock TextWrapping="Wrap" Opacity="0.7"
                                   Text="Enables the GS Ball event, allowing you to obtain Celebi. This feature was originally exclusive to Mobile System GB in Japan but was enabled for Virtual Console releases worldwide."/>

                        <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,8,0,0">
                            <Button Content="Enable GS Ball Event"
                                    Command="{Binding EnableGsBallCommand}"
                                    IsEnabled="{Binding CanEnableGsBall}"
                                    Classes="accent"/>
                            <TextBlock Text="âœ“ Already Enabled"
                                       Foreground="{DynamicResource ThemeSuccessBrush}"
                                       FontWeight="SemiBold"
                                       VerticalAlignment="Center"
                                       IsVisible="{Binding GsBallEnabled}"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Non-Crystal message -->
                <Border Classes="section-card" Padding="20" IsVisible="{Binding !IsCrystal}">
                    <TextBlock Text="No special options available for Gold/Silver."
                               Opacity="0.6"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                </Border>
            </StackPanel>

            <!-- Bottom Buttons -->
            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="12" Margin="0,16,0,0">
                <Button Content="Save" Command="{Binding SaveCommand}" Classes="accent" MinWidth="100" HorizontalContentAlignment="Center"/>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>
