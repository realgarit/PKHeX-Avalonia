<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:PKHeX.Avalonia.ViewModels"
             x:Class="PKHeX.Avalonia.Views.Misc2Editor"
             x:DataType="vm:Misc2EditorViewModel">

    <Design.DataContext>
        <vm:Misc2EditorViewModel />
    </Design.DataContext>

    <Grid RowDefinitions="*,Auto" Margin="20">
        <StackPanel Spacing="15" VerticalAlignment="Center" HorizontalAlignment="Center">
            <TextBlock Text="Gen 2 Misc Editor" FontWeight="Bold" FontSize="18" HorizontalAlignment="Center"/>

            <!-- GS Ball Section (Crystal only) -->
            <Border BorderBrush="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    IsVisible="{Binding IsCrystal}">
                <StackPanel Spacing="10">
                    <TextBlock Text="GS Ball Event (Virtual Console)" FontWeight="Bold" FontSize="14"/>
                    <TextBlock TextWrapping="Wrap" MaxWidth="400" Opacity="0.8"
                               Text="Enables the GS Ball event, allowing you to obtain Celebi. This feature was originally exclusive to Mobile System GB in Japan but was enabled for Virtual Console releases worldwide."/>

                    <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,10,0,0">
                        <Button Content="Enable GS Ball Event"
                                Command="{Binding EnableGsBallCommand}"
                                IsEnabled="{Binding CanEnableGsBall}"/>
                        <TextBlock Text="âœ“ Already Enabled"
                                   Foreground="Green"
                                   VerticalAlignment="Center"
                                   IsVisible="{Binding GsBallEnabled}"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Non-Crystal message -->
            <TextBlock Text="No special options available for Gold/Silver."
                       IsVisible="{Binding !IsCrystal}"
                       Opacity="0.6"
                       HorizontalAlignment="Center"/>
        </StackPanel>

        <!-- Bottom Buttons -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
            <Button Content="Save" Command="{Binding SaveCommand}"/>
        </StackPanel>
    </Grid>
</UserControl>
