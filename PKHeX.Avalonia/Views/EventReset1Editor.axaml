<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:PKHeX.Avalonia.ViewModels"
             x:Class="PKHeX.Avalonia.Views.EventReset1Editor"
             x:DataType="vm:EventReset1EditorViewModel">

    <Design.DataContext>
        <vm:EventReset1EditorViewModel />
    </Design.DataContext>

    <Grid RowDefinitions="Auto,*,Auto" Margin="15">
        <!-- Header -->
        <StackPanel Spacing="5">
            <TextBlock Text="Gen 1 Event Reset" FontWeight="Bold" FontSize="18"/>
            <TextBlock Text="Reset overworld PokÃ©mon encounters to allow re-battling them."
                       Opacity="0.7" TextWrapping="Wrap"/>
            <Button Content="Reset All Available" Command="{Binding ResetAllCommand}" Margin="0,10,0,0"/>
        </StackPanel>

        <!-- Events List -->
        <ScrollViewer Grid.Row="1" Margin="0,15,0,0">
            <ItemsControl ItemsSource="{Binding Events}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate DataType="vm:OverworldEventViewModel">
                        <Border Margin="0,0,0,5"
                                Padding="10"
                                BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                BorderThickness="1"
                                CornerRadius="4">
                            <Grid ColumnDefinitions="*,Auto">
                                <TextBlock Grid.Column="0"
                                           Text="{Binding Name}"
                                           VerticalAlignment="Center"
                                           FontSize="14"/>
                                <Button Grid.Column="1"
                                        Content="Reset"
                                        Command="{Binding ResetCommand}"
                                        IsEnabled="{Binding CanReset}"
                                        MinWidth="80"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

        <!-- Bottom Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10" Margin="0,10,0,0">
            <Button Content="Save" Command="{Binding SaveCommand}"/>
        </StackPanel>
    </Grid>
</UserControl>
