<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:PKHeX.Avalonia.ViewModels"
             x:Class="PKHeX.Avalonia.Views.PokeBlock3CaseEditorView"
             x:DataType="vm:PokeBlock3CaseEditorViewModel"
             Width="550" Height="450">
    <DockPanel Margin="16">
        <StackPanel DockPanel.Dock="Top" Spacing="4" Margin="0,0,0,12">
            <TextBlock Text="Pokéblock Case" FontSize="20" FontWeight="SemiBold" />
            <TextBlock Text="{Binding GameInfo}" FontSize="12" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" />
            <TextBlock FontSize="14" Margin="0,8,0,0">
                <Run Text="Filled: " />
                <Run Text="{Binding FilledCount}" FontWeight="SemiBold" />
                <Run Text=" / 40" />
            </TextBlock>
        </StackPanel>

        <!-- Not Supported Message -->
        <TextBlock IsVisible="{Binding !IsSupported}" Text="This save file does not support Pokéblock editing. (RSE only)" 
                   Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" 
                   FontStyle="Italic" HorizontalAlignment="Center" VerticalAlignment="Center" />

        <!-- Pokeblock Content -->
        <DockPanel IsVisible="{Binding IsSupported}">
            <!-- Action Buttons -->
            <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Center" Spacing="8" Margin="0,12,0,0">
                <Button Content="Fill All (Gold)" Command="{Binding MaximizeAllCommand}" Padding="12,6" />
                <Button Content="Max Existing" Command="{Binding MaximizeExistingCommand}" Padding="12,6" />
                <Button Content="Delete All" Command="{Binding DeleteAllCommand}" Padding="12,6" />
            </StackPanel>

            <!-- Block Grid -->
            <DataGrid ItemsSource="{Binding Blocks}"
                      IsReadOnly="True"
                      SelectionMode="Single"
                      AutoGenerateColumns="False"
                      GridLinesVisibility="Horizontal"
                      CanUserSortColumns="True">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Slot" Binding="{Binding SlotLabel}" Width="55" />
                    <DataGridTextColumn Header="Color" Binding="{Binding ColorName}" Width="80" />
                    <DataGridTextColumn Header="Level" Binding="{Binding Level}" Width="55" />
                    <DataGridTextColumn Header="Feel" Binding="{Binding Feel}" Width="50" />
                    <DataGridTextColumn Header="Spicy" Binding="{Binding Spicy}" Width="50" />
                    <DataGridTextColumn Header="Dry" Binding="{Binding Dry}" Width="45" />
                    <DataGridTextColumn Header="Sweet" Binding="{Binding Sweet}" Width="50" />
                    <DataGridTextColumn Header="Bitter" Binding="{Binding Bitter}" Width="50" />
                    <DataGridTextColumn Header="Sour" Binding="{Binding Sour}" Width="45" />
                </DataGrid.Columns>
            </DataGrid>
        </DockPanel>
    </DockPanel>
</UserControl>
