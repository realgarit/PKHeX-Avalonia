<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:PKHeX.Avalonia.ViewModels"
             x:Class="PKHeX.Avalonia.Views.SuperTrainingEditor"
             x:DataType="vm:SuperTrainingEditorViewModel">

    <Border Padding="16" Background="{DynamicResource SystemControlBackgroundAltHighBrush}">
        <DockPanel>
            <TextBlock DockPanel.Dock="Top" Text="Super Training Editor" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,16" />

            <TabControl>
                <TabItem Header="Training Bags">
                    <ScrollViewer>
                        <ItemsControl ItemsSource="{Binding Bags}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate DataType="vm:TrainingBagViewModel">
                                    <Grid ColumnDefinitions="50,*" Margin="0,4">
                                        <TextBlock Text="{Binding SlotName}" VerticalAlignment="Center" />
                                        <ComboBox Grid.Column="1" 
                                                  ItemsSource="{Binding $parent[UserControl].((vm:SuperTrainingEditorViewModel)DataContext).BagNames}" 
                                                  SelectedIndex="{Binding BagId}"
                                                  HorizontalAlignment="Stretch" />
                                    </Grid>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </ScrollViewer>
                </TabItem>

                <TabItem Header="Stages Unlock">
                    <DockPanel>
                        <Button DockPanel.Dock="Top" Content="Unlock All Stages" Command="{Binding UnlockAllCommand}" Margin="0,0,0,8" />
                        <ScrollViewer>
                            <ItemsControl ItemsSource="{Binding Stages}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel Orientation="Vertical" Height="400" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate DataType="vm:SuperTrainStageViewModel">
                                        <CheckBox IsChecked="{Binding IsUnlocked}" Content="{Binding Name}" Margin="4,2" Width="200" />
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </DockPanel>
                </TabItem>

                <TabItem Header="Records">
                    <Grid ColumnDefinitions="250, *">
                        <ListBox Grid.Column="0" ItemsSource="{Binding Records}" SelectedItem="{Binding SelectedRecord}">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Name}" />
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>

                        <ScrollViewer Grid.Column="1" Padding="16" IsVisible="{Binding SelectedRecord, Converter={x:Static ObjectConverters.IsNotNull}}">
                            <StackPanel Spacing="16" DataContext="{Binding SelectedRecord}">
                                <TextBlock Text="Record 1" FontWeight="Bold" />
                                <Grid ColumnDefinitions="Auto, *" RowDefinitions="Auto, Auto, Auto, Auto" Margin="0,0,0,16">
                                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Time:" VerticalAlignment="Center" Margin="0,0,8,4" />
                                    <NumericUpDown Grid.Row="0" Grid.Column="1" Value="{Binding Time1}" Increment="0.1" Margin="0,0,0,4" />
                                    
                                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Species:" VerticalAlignment="Center" Margin="0,0,8,4" />
                                    <NumericUpDown Grid.Row="1" Grid.Column="1" Value="{Binding Species1}" Minimum="0" Maximum="1025" Margin="0,0,0,4" />
                                    
                                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Form:" VerticalAlignment="Center" Margin="0,0,8,4" />
                                    <NumericUpDown Grid.Row="2" Grid.Column="1" Value="{Binding Form1}" Minimum="0" Maximum="255" Margin="0,0,0,4" />
                                    
                                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Gender:" VerticalAlignment="Center" Margin="0,0,8,4" />
                                    <NumericUpDown Grid.Row="3" Grid.Column="1" Value="{Binding Gender1}" Minimum="0" Maximum="2" Margin="0,0,0,4" />
                                </Grid>

                                <TextBlock Text="Record 2" FontWeight="Bold" />
                                <Grid ColumnDefinitions="Auto, *" RowDefinitions="Auto, Auto, Auto, Auto">
                                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Time:" VerticalAlignment="Center" Margin="0,0,8,4" />
                                    <NumericUpDown Grid.Row="0" Grid.Column="1" Value="{Binding Time2}" Increment="0.1" Margin="0,0,0,4" />
                                    
                                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Species:" VerticalAlignment="Center" Margin="0,0,8,4" />
                                    <NumericUpDown Grid.Row="1" Grid.Column="1" Value="{Binding Species2}" Minimum="0" Maximum="1025" Margin="0,0,0,4" />
                                    
                                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Form:" VerticalAlignment="Center" Margin="0,0,8,4" />
                                    <NumericUpDown Grid.Row="2" Grid.Column="1" Value="{Binding Form2}" Minimum="0" Maximum="255" Margin="0,0,0,4" />
                                    
                                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Gender:" VerticalAlignment="Center" Margin="0,0,8,4" />
                                    <NumericUpDown Grid.Row="3" Grid.Column="1" Value="{Binding Gender2}" Minimum="0" Maximum="2" Margin="0,0,0,4" />
                                </Grid>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </TabItem>
            </TabControl>
        </DockPanel>
    </Border>
</UserControl>
