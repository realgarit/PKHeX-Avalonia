<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:PKHeX.Avalonia.ViewModels"
             x:Class="PKHeX.Avalonia.Views.TrainerCard8EditorView"
             x:DataType="vm:TrainerCard8EditorViewModel"
             MinWidth="450" MinHeight="500">
    <DockPanel Margin="16">
        <TextBlock DockPanel.Dock="Top" Text="Trainer Card" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,8" />
        <TextBlock DockPanel.Dock="Top" Text="{Binding GameInfo}" FontSize="12" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" Margin="0,0,0,12" />

        <!-- Not Supported Message -->
        <TextBlock IsVisible="{Binding !IsSupported}" Text="This save file does not support Trainer Card editing." 
                   Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" 
                   FontStyle="Italic" HorizontalAlignment="Center" VerticalAlignment="Center" />

        <!-- Trainer Card Content -->
        <ScrollViewer VerticalScrollBarVisibility="Auto" IsVisible="{Binding IsSupported}">
            <StackPanel Spacing="12">
                <!-- Basic Info -->
                <Border Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}" CornerRadius="4" Padding="12">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Trainer Info" FontWeight="SemiBold" Margin="0,0,0,4" />
                        <Grid ColumnDefinitions="120,*" RowDefinitions="Auto,Auto">
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Name" VerticalAlignment="Center" />
                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding TrainerName}" Margin="0,0,0,4" />
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Starter" VerticalAlignment="Center" />
                            <ComboBox Grid.Row="1" Grid.Column="1" SelectedIndex="{Binding Starter}" HorizontalAlignment="Stretch">
                                <ComboBoxItem Content="Grookey" />
                                <ComboBoxItem Content="Scorbunny" />
                                <ComboBoxItem Content="Sobble" />
                            </ComboBox>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Stats -->
                <Border Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}" CornerRadius="4" Padding="12">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Statistics" FontWeight="SemiBold" Margin="0,0,0,4" />
                        <Grid ColumnDefinitions="180,*" RowDefinitions="Auto,Auto,Auto,Auto,Auto">
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Pokédex Owned" VerticalAlignment="Center" />
                            <NumericUpDown Grid.Row="0" Grid.Column="1" Value="{Binding PokeDexOwned}" Minimum="0" Maximum="65535" Margin="0,0,0,4" />
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Shiny Pokémon Found" VerticalAlignment="Center" />
                            <NumericUpDown Grid.Row="1" Grid.Column="1" Value="{Binding ShinyPokemonFound}" Minimum="0" Maximum="65535" Margin="0,0,0,4" />
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Pokémon Caught" VerticalAlignment="Center" />
                            <NumericUpDown Grid.Row="2" Grid.Column="1" Value="{Binding CaughtPokemon}" Minimum="0" Maximum="99999" Margin="0,0,0,4" />
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Curry Types Owned" VerticalAlignment="Center" />
                            <NumericUpDown Grid.Row="3" Grid.Column="1" Value="{Binding CurryTypesOwned}" Minimum="0" Maximum="151" Margin="0,0,0,4" />
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Rotom Rally Score" VerticalAlignment="Center" />
                            <NumericUpDown Grid.Row="4" Grid.Column="1" Value="{Binding RotoRallyScore}" Minimum="0" Maximum="99999" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Pokédex Completion -->
                <Border Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}" CornerRadius="4" Padding="12">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Pokédex Completion" FontWeight="SemiBold" Margin="0,0,0,4" />
                        <CheckBox Content="Galar Pokédex Complete" IsChecked="{Binding PokeDexComplete}" />
                        <CheckBox Content="Isle of Armor Pokédex Complete" IsChecked="{Binding ArmorDexComplete}" />
                        <CheckBox Content="Crown Tundra Pokédex Complete" IsChecked="{Binding CrownDexComplete}" />
                    </StackPanel>
                </Border>

                <!-- Actions -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="8">
                    <Button Content="Save Changes" Command="{Binding SaveCommand}" Padding="16,8" />
                    <Button Content="Set Party to Card" Command="{Binding SetPartyToCardCommand}" Padding="16,8" />
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </DockPanel>
</UserControl>
