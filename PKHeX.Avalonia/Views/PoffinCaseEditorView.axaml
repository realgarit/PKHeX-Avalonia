<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:PKHeX.Avalonia.ViewModels"
             x:Class="PKHeX.Avalonia.Views.PoffinCaseEditorView"
             x:DataType="vm:PoffinCaseEditorViewModel"
             Width="550" Height="450">
    <DockPanel Margin="16">
        <StackPanel DockPanel.Dock="Top" Spacing="4" Margin="0,0,0,12">
            <TextBlock Text="Poffin Case" FontSize="20" FontWeight="SemiBold" />
            <TextBlock Text="{Binding GameInfo}" FontSize="12" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" />
            <TextBlock FontSize="14" Margin="0,8,0,0">
                <Run Text="Filled: " />
                <Run Text="{Binding FilledCount}" FontWeight="SemiBold" />
                <Run Text=" / 100" />
            </TextBlock>
        </StackPanel>

        <!-- Not Supported Message -->
        <TextBlock IsVisible="{Binding !IsSupported}" Text="This save file does not support Poffin editing. (DPPt only)" 
                   Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" 
                   FontStyle="Italic" HorizontalAlignment="Center" VerticalAlignment="Center" />

        <!-- Poffin Content -->
        <DockPanel IsVisible="{Binding IsSupported}">
            <!-- Action Buttons -->
            <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Center" Spacing="8" Margin="0,12,0,0">
                <Button Content="Fill All (Max)" Command="{Binding FillAllCommand}" Padding="12,6" />
                <Button Content="Delete All" Command="{Binding DeleteAllCommand}" Padding="12,6" />
                <Button Content="Save" Command="{Binding SaveCommand}" Padding="12,6" />
            </StackPanel>

            <!-- Poffin Grid -->
            <DataGrid ItemsSource="{Binding Poffins}"
                      IsReadOnly="True"
                      SelectionMode="Single"
                      AutoGenerateColumns="False"
                      GridLinesVisibility="Horizontal"
                      CanUserSortColumns="True">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Slot" Binding="{Binding SlotLabel}" Width="60" />
                    <DataGridTextColumn Header="Flavor" Binding="{Binding FlavorName}" Width="100" />
                    <DataGridTextColumn Header="Level" Binding="{Binding Level}" Width="60" />
                    <DataGridTextColumn Header="Smooth" Binding="{Binding Smoothness}" Width="60" />
                    <DataGridTextColumn Header="Spicy" Binding="{Binding Spicy}" Width="55" />
                    <DataGridTextColumn Header="Dry" Binding="{Binding Dry}" Width="50" />
                    <DataGridTextColumn Header="Sweet" Binding="{Binding Sweet}" Width="55" />
                    <DataGridTextColumn Header="Bitter" Binding="{Binding Bitter}" Width="55" />
                    <DataGridTextColumn Header="Sour" Binding="{Binding Sour}" Width="50" />
                </DataGrid.Columns>
            </DataGrid>
        </DockPanel>
    </DockPanel>
</UserControl>
